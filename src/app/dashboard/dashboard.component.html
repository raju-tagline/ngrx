<div class="container p-2 mt-3">
  <div class="row justify-content-center">
    <div class="col-6 ms-1">
      <div class="row">
        <form [formGroup]="addForm" (ngSubmit)="onSubmit()">
          <div class="row">
            <label for="name">Name</label>
            <div class="col-10 mt-2">
              <input
                type="text"
                name="name"
                id="name"
                formControlName="name"
                class="form-control"
                placeholder="Enter Name"
              />
            </div>
            <div *ngIf="addForm.get('name')?.touched && !addForm.get('name')?.valid">
              <span *ngIf="addForm.get('name')?.errors?.['required']" class="text-danger">
                  Name is required!
              </span>
            </div>
            <div class="col-2 mt-2">
              <button class="btn btn-outline-primary" [disabled]="addForm.invalid"> {{ submitBtn ? 'Update' : "Add" }}</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
  <div class="row justify-content-center mt-3">
    <div class="col-6 ms-1 h4">STUDENTS LIST</div>
  </div>
  <div class="row m-0 justify-content-center">
    <div class="col-6">
      <table class="table table-striped">
        <thead>
          <th>S.No</th>
          <th>ID</th>
          <th>NAME</th>
          <th class="text-center">ACTION</th>
        </thead>
        <tbody>
          <tr *ngFor="let student of studentsData$ | async; let i = index">
            <td>{{ i + 1 }}</td>
            <td>{{ student.id }}</td>
            <td>{{ student.name }}</td>
            <td class="text-center">
              <button class="btn btn-sm me-1" (click)="updateData(student.id)">UPDATE</button>
              <button class="btn btn-sm" (click)="deleteData(student.id)">DELETE</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
